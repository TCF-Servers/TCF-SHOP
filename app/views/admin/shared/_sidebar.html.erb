<aside class="admin-sidebar" data-admin-sidebar-target="sidebar">
  <div class="admin-logo-container">
    <%= link_to dashboard_path, class: "admin-logo" do %>
      <div class="admin-logo-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 2c1.5 2 2.5 4 2.5 6.5 0 3.5-2.5 6-2.5 6s-2.5-2.5-2.5-6C9.5 6 10.5 4 12 2z"/>
          <path d="M12 22c-4 0-7-2-7-5 0-2 1-3.5 3-4.5.5 2 2 3.5 4 3.5s3.5-1.5 4-3.5c2 1 3 2.5 3 4.5 0 3-3 5-7 5z"/>
          <circle cx="12" cy="17" r="1"/>
        </svg>
      </div>
      <div class="admin-logo-text">
        <span class="admin-logo-title">The Campfire</span>
        <span class="admin-logo-subtitle">Admin Panel</span>
      </div>
    <% end %>
  </div>

  <nav class="admin-nav">
    <div class="admin-nav-section">
      <div class="admin-nav-section-title">Principal</div>
      <%= link_to dashboard_path, class: "admin-nav-item #{'active' if current_page?(dashboard_path)}" do %>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="3" width="7" height="7" rx="1"/>
          <rect x="14" y="3" width="7" height="7" rx="1"/>
          <rect x="3" y="14" width="7" height="7" rx="1"/>
          <rect x="14" y="14" width="7" height="7" rx="1"/>
        </svg>
        Dashboard
      <% end %>
      <%= link_to "#", class: "admin-nav-item" do %>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
          <circle cx="9" cy="7" r="4"/>
          <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
          <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
        </svg>
        Joueurs
        <span class="admin-nav-badge"><%= @online_players_count || 0 %></span>
      <% end %>
    </div>

    <div class="admin-nav-section">
      <div class="admin-nav-section-title">RCON</div>
      <%= link_to "#", class: "admin-nav-item" do %>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="4 17 10 11 4 5"/>
          <line x1="12" y1="19" x2="20" y2="19"/>
        </svg>
        Executer RCON
      <% end %>
      <%= link_to "#", class: "admin-nav-item" do %>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 8v4l3 3"/>
          <circle cx="12" cy="12" r="10"/>
        </svg>
        Historique RCON
      <% end %>
      <% if current_user&.superadmin? %>
        <%= link_to admin_rcon_command_templates_path, class: "admin-nav-item" do %>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
            <polyline points="14 2 14 8 20 8"/>
            <line x1="16" y1="13" x2="8" y2="13"/>
            <line x1="16" y1="17" x2="8" y2="17"/>
            <polyline points="10 9 9 9 8 9"/>
          </svg>
          Templates RCON
          <span class="admin-nav-badge superadmin">SA</span>
        <% end %>
      <% end %>
    </div>
  </nav>

  <div class="admin-user-section">
    <div class="admin-user-card">
      <div class="admin-user-avatar"><%= current_user&.email&.first(2)&.upcase || "??" %></div>
      <div class="admin-user-info">
        <div class="admin-user-name"><%= current_user&.email&.split('@')&.first || "Utilisateur" %></div>
        <div class="admin-user-role">
          <span class="admin-user-role-dot"></span>
          <%= current_user&.role&.capitalize || "User" %>
        </div>
      </div>
    </div>
    <%= button_to destroy_user_session_path, method: :delete, class: "admin-logout-btn" do %>
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
        <polyline points="16 17 21 12 16 7"/>
        <line x1="21" y1="12" x2="9" y2="12"/>
      </svg>
      Deconnexion
    <% end %>
  </div>
</aside>
