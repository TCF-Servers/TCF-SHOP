<% content_for(:page_title) { "Templates RCON" } %>

<div class="admin-section">
  <div class="admin-section-header">
    <h2 class="admin-section-title">
      <span class="admin-section-title-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
          <polyline points="14 2 14 8 20 8"/>
          <line x1="16" y1="13" x2="8" y2="13"/>
          <line x1="16" y1="17" x2="8" y2="17"/>
          <polyline points="10 9 9 9 8 9"/>
        </svg>
      </span>
      Templates de commandes
    </h2>
    
    <%= link_to new_admin_rcon_command_template_path, class: "admin-btn admin-btn-primary", data: { bs_toggle: "modal", bs_target: "#RconModal", turbo_frame: "rcon_modal_content" } do %>
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
        <line x1="12" y1="5" x2="12" y2="19"/>
        <line x1="5" y1="12" x2="19" y2="12"/>
      </svg>
      Nouveau template
    <% end %>

    <%= render "rcon_modal" %>
  </div>

  <div class="admin-templates-grid" id="templates_grid">
    <% @templates.each do |template| %>
      <%= render "template_card", template: template %>
    <% end %>

    <% if @templates.empty? %>
      <div class="admin-templates-empty" id="templates_empty">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
          <polyline points="14 2 14 8 20 8"/>
          <line x1="12" y1="18" x2="12" y2="12"/>
          <line x1="9" y1="15" x2="15" y2="15"/>
        </svg>
        <p>Aucun template de commande RCON</p>
        <span>Cliquez sur "Nouveau template" pour en creer un</span>
      </div>
    <% end %>
  </div>
</div>
