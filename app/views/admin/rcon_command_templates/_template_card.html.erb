<div class="admin-template-card" id="<%= dom_id(template) %>">
  <div class="admin-template-header">
    <div class="admin-template-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="4 17 10 11 4 5"/>
        <line x1="12" y1="19" x2="20" y2="19"/>
      </svg>
    </div>
    <div class="admin-template-info">
      <h3 class="admin-template-name"><%= template.name %></h3>
      <span class="admin-template-role <%= template.required_role %>">
        <%= template.required_role.humanize %>
      </span>
    </div>
    <div class="admin-template-status">
      <span class="admin-status-indicator <%= template.enabled? ? 'active' : 'inactive' %>">
        <%= template.enabled? ? 'Actif' : 'Inactif' %>
      </span>
    </div>
  </div>

  <p class="admin-template-description"><%= template.description %></p>

  <div class="admin-template-command">
    <code><%= template.command_template %></code>
  </div>

  <div class="admin-template-meta">
    <% if template.requires_player %>
      <span class="admin-template-tag">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="12" height="12">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
          <circle cx="12" cy="7" r="4"/>
        </svg>
        Requiert un joueur
      </span>
    <% end %>
    <% template.extract_placeholders.each do |placeholder| %>
      <span class="admin-template-placeholder">{<%= placeholder %>}</span>
    <% end %>
  </div>

  <div class="admin-template-actions">
    <button type="button" class="admin-btn-icon" title="Modifier" data-bs-toggle="modal" data-bs-target="#RconModal" data-action="click->modal#loadEdit" data-template-id="<%= template.id %>">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
      </svg>
    </button>
    <button type="button" class="admin-btn-icon danger" title="Supprimer"
            data-controller="swal-confirm"
            data-action="click->swal-confirm#confirm"
            data-swal-confirm-url-value="<%= admin_rcon_command_template_path(template) %>"
            data-swal-confirm-title-value="Supprimer ce template ?"
            data-swal-confirm-text-value="Cette action est irrÃ©versible.">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="3 6 5 6 21 6"/>
        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
      </svg>
    </button>
  </div>
</div>
